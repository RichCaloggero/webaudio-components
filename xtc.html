<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="X-Content-Type-Options" content="nosniff">

<title>XTC</title>
</head>
<body> 

<script type="module">
import {AudioComponent, audioContext} from "./audioComponent.js";
import * as audio from "./components.js";
const commonOptions = "bypass, silentBypass, mix";

window.app = audio.app("enableAutomation; automationInterval=0.1",
audio.series(
window.player = audio.player("media = media/profit.flac; position=200"),

window.panner = audio.panner("bypass=true; radius=5; angle = 0 | t/2; panningModel = HRTF; orientationX=0; distanceModel = linear; maxDistance = 30; refDistance = 20;"),
audio.stereoProcessor("bypass=true"),

audio.parallel("title = crazy panner",

window.s1 = audio.series("title = unfiltered; bypass=true; show = bypass, silentBypass",
audio.stereoPanner("hide = bypass, silentBypass, mix; pan = 0 | cos(t/2)"),
audio.gain("hide = mix, bypass, silentBypass")
), // series

window.s2 = audio.series("title = filtered; silentBypass = true; show = bypass",
audio.filter(`bypass=true;
type=lowpass;
frequency = 350 ;
Q=1;
hide = silentBypass, mix, detune, gain
`),
//audio.reverb("hide=silentBypass"),
audio.delay("delay = 0.00007 | s(t, 0.000025, 0.00015); feedback=0.80; gain=-1.0; reverse=1.0; hide = silentBypass, mix"),
audio.gain("gain=0.7; hide = bypass, silentBypass, mix")
) // series

), // parallel
audio.destination()
) // series
); // app
document.body.appendChild(app.ui.container);

</script>

</body>
</html>
